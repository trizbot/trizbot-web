<mat-card class="cardWithShadow theme-card">
  <mat-card-header>
    <mat-card-title class="m-b-0">Initiate Deposit</mat-card-title>
    <p class="text-primary">
      Please note: A service charge of 5% will be applied to the total deposit amount.
    </p>
  </mat-card-header>
  
  <mat-card-content class="b-t-1">
    <form class="mt-3" (ngSubmit)="onCreateDeposit()" #depositForm="ngForm">
      <div class="col-lg-6">
        <mat-label class="f-w-600 m-b-8 d-block">Amount*</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <input 
            matInput
            type="number"
            placeholder="Enter Amount"
            name="amount"
            required
            [(ngModel)]="depositData.amount" />
        </mat-form-field>
      </div>

      <div class="col-lg-6">
        <mat-label class="f-w-600 m-b-8 d-block">Select Payment Currency *</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <mat-select
            placeholder="Choose Payment Currency"
            name="pay_currency"
            required
            [(ngModel)]="depositData.pay_currency">
            <mat-option *ngFor="let currency of currencies" [value]="currency">
              {{ currency.toUpperCase() }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      <div class="col-lg-6">
        <mat-label class="f-w-600 m-b-8 d-block">Note *</mat-label>
        <mat-form-field appearance="outline" class="w-100">
          <textarea
            matInput
            placeholder="Enter Note"
            name="note"
            required
            rows="3"
            [(ngModel)]="depositData.note"></textarea>
        </mat-form-field>
      </div>


      <div class="m-t-6">
        <button
          mat-flat-button
          color="primary"
          class="w-50 py-2 fw-bold"
          type="submit"
          [disabled]="loading || !depositForm.form.valid">
          <ng-container *ngIf="loading">
            <img src="./assets/images/loading.gif" alt="Loading..." style="width: 26px; height: 26px;" />
          </ng-container>
          <span *ngIf="!loading">Next</span>
        </button>
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="alert alert-danger mt-2">
        <b>{{ errorMessage }}</b>
      </div>
    </form>
  </mat-card-content>
</mat-card>